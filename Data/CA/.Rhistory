library(Quandl)
us_raw <- Quandl("YC/USA", type = "xts")
?Quandl
?Quandl.api_key
library(Quandl)
api_key = "2qY8hLwS6End4vVz3jBF"
Quandl.api_key(api_key = api_key)
us_raw <- Quandl("YC/USA", type = "xts")
View(us_raw)
us_raw <- read.zoo("./Data/FRB_H15.csv", header = TRUE, sep = ",",format="%m/%d/%Y",index.column = 1)
View(us_raw)
us_raw_av <- us_raw["1/4/1982":]
us_raw_av <- us_raw[time(us_raw) >= "1/4/1982"]
View(us_raw_av)
us_raw_av <- us_raw[time(us_raw) >= '1/4/1982']
View(us_raw_av)
View(time(us_raw) >= '1/4/1982')
View(time(us_raw))
us_raw_av <- us_raw[time(us_raw) >= '1-4-1982']
View(us_raw_av)
View(time(us_raw) >= '1-4-1982')
any(time(us_raw) >= '1-4-1982')
any(!time(us_raw) >= '1-4-1982')
View(time(us_raw) >= '1982-01-04')
us_raw <- us_raw[time(us_raw) >= '1982-01-04]'
''
us_raw <- us_raw[time(us_raw) >= '1982-01-04]
''
''
us_raw <- us_raw[time(us_raw) >= '1982-01-04']
View(us_raw)
us_raw[:, 1]
us_raw[:][1]
us_raw[,1]
us_raw[,'RIFLGFCM03_N.B':'RIFLGFCY10_N.B']
us_raw[,"RIFLGFCY10_N.B"]
us_raw[,"RIFLGFCM03_N.B":"RIFLGFCY10_N.B"]
View(us_raw[,"RIFLGFCY10_N.B"])
View(us_raw[,"RIFLGFCM03_N.B"])
View(us_raw[,1:11])
View(us_raw[,2:9])
us_raw <- read.zoo("./Data/FRB_H15.csv", header = TRUE, sep = ",",format="%m/%d/%Y",index.column = 1)
# start of 3m availability
us_raw <- us_raw[time(us_raw) >= '1982-01-04']
# maturities 3m to 10y
us_raw <- us_raw[,2:9]
View(us_raw)
source('~/Repos/Diebold-et-al-2008-Replication/read_data.R', echo=TRUE)
View(us_raw)
delete(us_raw_av)
remove(us_raw_av)
remove(api-)
remove(api_key)
getwd()
?file.list
?list.files
getwd()
?read.zoo
library(readxl)
file.list <- list.files(path='./Data/DE',pattern='*.csv')
df.list <- lapply(file.list, read.zoo, header=FALSE, sep=",", format='%y-$m',index.column = 1, skip=5)
library(readxl)
file.list <- list.files(path='./Data/DE',pattern='*.csv')
df.list <- lapply(file.list, read.zoo, header=FALSE, sep=",", format='%y-$m',index.column = 1, skip=5)
library(readxl)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
df.list <- lapply(file.list, read.zoo, header=FALSE, sep=",", format='%y-$m',index.column = 1, skip=5)
library(readxl)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
df.list <- lapply(file.list, read.zoo, header=FALSE, sep=",", format='%Y-$m',index.column = 1, skip=5)
library(readxl)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
df.list <- lapply(file.list, read.zoo, header=FALSE, sep=",", format='%Y-%m',index.column = 1, skip=5)
test <- read.zoo("BBK01.WZ9807.csv", header=FALSE, sep=",", format="%Y-%m", index.column = 1, skip=5)
?read.zoo
test <- read.zoo("BBK01.WZ9807.csv", header=FALSE, sep=",", format="%YYYY-%MM", index.column = 1, skip=5)
test <- read.zoo("BBK01.WZ9807.csv", header=FALSE, sep=",", format="%YYYY-%MM", index.column = 1, skip=5)
test <- read.zoo("BBK01.WZ9807.csv", header=FALSE, sep=",", format="%Y/%m", index.column = 1, skip=5)
test <- read.zoo("BBK01.WZ9807.csv", tz="UTC", header=FALSE, sep=",", format="%Y-%m", index.column = 1, skip = 5)
test <- read.zoo("BBK01.WZ9807.csv", header=FALSE, sep=",", format="%Y%m", index.column = 1, skip = 5)
test <- read.zoo("BBK01.WZ9807.csv", header=FALSE, sep=",", index.column = 1, skip = 5)
test <- read.zoo("BBK01.WZ9807.csv", tz="UTC", header=FALSE, sep="," index.column = 1, FUN = as.yearmon, skip = 5)
test <- read.zoo("BBK01.WZ9807.csv", tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
View(test)
library(readxl)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
df.list <- lapply(file.list, read.zoo, header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip=5)
library(readxl)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
df.list <- lapply(file.list, read.zoo, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip=5)
test <- read.zoo("BBK01.WZ9807.csv", tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
library(readxl)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
df.list <- lapply(file.list, read.zoo(tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5))
library(readxl)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
df.list <- lapply(file.list, read.zoo, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
library(dplyr)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
df.list <- lapply(file.list, read.zoo, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
test <- read.zoo("BBK01.WZ9807.csv", tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
df.list <- lapply(file.list, read.zoo, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
df.list <- apply(file.list, read.zoo, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
for (file in file.list){
df[file] <- read.zoo(file = file, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
}
View(file.list)
class(file.list)
file.list[0]
file.list[1]
file.list[2]
file.list[3]
for (f in file.list){
df[f] <- read.zoo(file = f, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
}
library(dplyr)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
test <- read.zoo("BBK01.WZ9807.csv", tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
for (f in file.list){
df[f] <- read.zoo(file = f, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
}
for (f in file.list){
print(f)
df[f] <- read.zoo(file = f, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
}
for (f in file.list){
print(f)
de_raw[f] <- read.zoo(file = f, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
}
de_raw <- data.frame()
for (f in file.list){
print(f)
de_raw[f] <- read.zoo(file = f, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
}
de_raw <- data.frame(nrows=548, ncols=11)
for (f in file.list){
print(f)
de_raw[f] <- read.zoo(file = f, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
}
de_raw <- data.frame(nrows=548, ncols=11)
View(de_raw)
de_raw <- matrix(nrows=548, ncols=11)
for (f in file.list){
print(f)
de_raw[f] <- read.zoo(file = f, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
}
de_raw <- matrix(nrows=548, ncols=11)
de_raw <- matrix(nrow=548, ncol=11)
colnames(de_raw) <- file.lis
colnames(de_raw) <- file.list
for (f in file.list){
print(f)
de_raw[f] <- read.zoo(file = f, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
}
warnings()
View(de_raw)
de_raw <- matrix(nrow=548, ncol=11)
colnames(de_raw) <- file.list
View(de_raw)
View(de_raw[file.list[1]])
file.list
filte.list[1]
file.list[1]
de_raw$file.list[1]
de_raw$"BBK01.WZ9807.csv"
class(file.list[1])
de_raw[file.list[1]]
View(de_raw)
View(de_raw["ha"])
colnames(de_raw)
View(de_raw)
View(de_raw["BBK01.WZ9807.CSV"])
View(de_raw["BBK01.WZ9807.csv"])
View(de_raw[,"BBK01.WZ9807.csv"])
View(de_raw[,"BBK01.WZ9807.csdasdasv"])
de_raw <- matrix(nrow=548, ncol=11)
colnames(de_raw) <- file.list
for (f in file.list){
de_raw[,f] <- read.zoo(file = f, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
}
de_raw <- list()
for (f in file.list){
de_raw[f] <- read.zoo(file = f, tz="UTC", header=FALSE, sep=",", index.column = 1, FUN = as.yearmon, skip = 5)
}
de_raw[[1]]
View(de_raw)
df <- lapply(file.list,
function(x) read.zoo(file=x,
tz="UTC",
header=FALSE,
sep=",",
index.column = 1,
FUN = as.yearmon,
skip = 5)
)
df
View(df)
View(df[[1]])
us_raw <- read.zoo("./Data/FRB_H15.csv",
header = TRUE,
sep = ",",
format="%m/%d/%Y",
na.strings = c("", "ND"),
index.column = 1)
# start of 3m availability
us_raw <- us_raw[time(us_raw) >= '1982-01-04']
# maturities 3m to 10y
us_raw <- us_raw[,2:9]
colnames(us_raw) <- c(3, 6, 12, 24, 36, 60, 84, 120)
View(us_raw)
df <- lapply(file.list,
function(x) read.zoo(file=x,
tz="UTC",
header=FALSE,
sep=",",
index.column = 1,
FUN = as.yearmon,
skip = 5,
colClasses = c("float", "NULL"))
)
?read.table
source('~/Repos/Diebold-et-al-2008-Replication/read_data.R', echo=TRUE)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
df <- lapply(file.list,
function(x) read.zoo(file=x,
tz="UTC",
header=FALSE,
sep=",",
index.column = 1,
FUN = as.yearmon,
skip = 5,
colClasses = c("numeric", "NULL"))
)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
df <- lapply(file.list,
function(x) read.zoo(file=x,
tz="UTC",
header=FALSE,
sep=",",
index.column = 1,
FUN = as.yearmon,
skip = 5,
colClasses = c("Date", "numeric", "NA"))
)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
df <- lapply(file.list,
function(x) read.zoo(file=x,
tz="UTC",
header=FALSE,
sep=",",
index.column = 1,
FUN = as.yearmon,
skip = 5,
colClasses = c(, "numeric", "NA"))
)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
df <- lapply(file.list,
function(x) read.zoo(file=x,
tz="UTC",
header=FALSE,
sep=",",
index.column = 1,
FUN = as.yearmon,
skip = 5,
colClasses = c("character", "numeric", "NA"))
)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
df <- lapply(file.list,
function(x) read.zoo(file=x,
tz="UTC",
header=FALSE,
sep=",",
index.column = 1,
FUN = as.yearmon,
skip = 5,
colClasses = c("NULL", "numeric", "NULL"))
)
View(df)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
de_raw <- lapply(file.list,
function(x) read.zoo(file=x,
tz="UTC",
header=FALSE,
sep=",",
index.column = 1,
FUN = as.yearmon,
skip = 5,
colClasses = c("NULL", "numeric", "NULL"))
)
View(de_raw)
de_raw[["BBK01.WZ9807.csv"]]
de_raw[[1]]
source('~/Repos/Diebold-et-al-2008-Replication/read_data.R', echo=TRUE)
source('~/Repos/Diebold-et-al-2008-Replication/read_data.R', echo=TRUE)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/DE")
file.list <- list.files(pattern='*.csv')
de_raw <- lapply(file.list,
function(x) read.zoo(file=x,
tz="UTC",
header=FALSE,
sep=",",
index.column = 1,
FUN = as.yearmon,
skip = 5)
)
View(de_raw)
de_raw
de_raw[[1]]
library(xts)
mm <- do.call(merge,lapply(de_raw,as.xts))
View(mm)
de_raw <- do.call(merge,lapply(de_raw,as.xts))
file.list
colnames(de_raw) <- c(6, NA, 12, NA, 24, NA, 36, NA, 48, NA, 60, NA, 72, NA, 84, NA, 96, NA, 108, NA, 120)
de_raw <- de_raw[,rep(c(TRUE, FALSE), 11)]
View(de_raw)
colnames(de_raw) <- c(6, 12, 24, 36, 48, 60, 72, 84, 96, 108, 120)
View(de_raw)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/CA")
file.list <- list.files(pattern='*.xlsx')
ca_raw <- list()
for (file in file.list){
ca_raw[file] <- read.csv(file, header = TRUE, sep = ",")
}
View(ca_raw)
View(ca_raw[[1]])
View(ca_raw[[2]])
View(ca_raw[1])
warnings()
source('~/Repos/Diebold-et-al-2008-Replication/read_data.R', echo=TRUE)
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/CA")
file.list <- list.files(pattern='*.csv')
ca_raw <- list()
for (file in file.list){
ca_raw[file] <- read.csv(file, header = TRUE, sep = ",")
}
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/CA")
file.list <- list.files(pattern='*.csv')
ca_raw <- list()
for (file in file.list){
ca_raw[file] <- read.csv(file, header = TRUE, sep = ",")
}
ca_raw
View(ca_row)
View(ca_raw)
View(ca_raw[[2]])
View(ca_raw[[1]])
ca_raw <- lapply(file.list, function(x) read.csv(file = x, header = TRUE, sep = ","))
ca_raw
View(ca_raw)
View(ca_raw[1])
View(ca_raw[[1]])
library(reshape)
ca_raw <- lapply(ca_raw, function(x) melt(x, id="X"))
library(reshape)
library(tidyr)
ca_raw <- lapply(ca_raw, function(x) spread id="X"))
library(tidyr)
ca_raw <- lapply(ca_raw, function(x) spread(id="X"))
library(tidyr)
ca_raw <- lapply(ca_raw, function(x) gather(id="X"))
library(reshape2)
ca_raw <- lapply(ca_raw, function(x) melt(x, id="X"))
View(ca_raw[[1]])
View(c(ca_raw[[1]][:,1],ca_raw[[1][:,2]]))
View(c(ca_raw[[1]][,1],ca_raw[[1][,2]]))
View(c(ca_raw[[1]][,1],ca_raw[[1]][,2]))
View(c(ca_raw[[1]][,'X'],ca_raw[[1]][,'variable']))
View(paste(ca_raw[[1]][,'X'],ca_raw[[1]][,'variable']))
View(paste(ca_raw[[1]][,'X'],ca_raw[[1]][,'variable'], sep = "-"))
test = "hi"
test[0]
test[1]
test = "hello"
test[1:3]
substrRight <- function(x, n){
substr(x, nchar(x)-n+1, nchar(x))
}
View(paste(ca_raw[[1]][,'X'], substr(ca_raw[[1]][,'variable'], start = 2, stop =4), sep = "-"))
View(as.yearmon(paste(ca_raw[[1]][,'X'], substr(ca_raw[[1]][,'variable'], start = 2, stop =4), sep = "-")))
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/CA")
file.list <- list.files(pattern='*.csv')
ca_raw <- list()
for (file in file.list){
ca_raw[file] <- read.csv(file, header = TRUE, sep = ",")
}
ca_raw <- lapply(file.list, function(x) read.csv(file = x, header = TRUE, sep = ","))
ca_raw <- lapply(ca_raw, function(x) melt(x, id="X"))
ca_raw <- lapply(ca_raw, function(x)
zoo(x = x[,"value"],
order.by = as.yearmon(paste(x[,'X'],
substr(x[,'variable'], start = 2, stop = 4),
sep = "-"))
)
)
View(ca_raw[[1]])
class(ca_raw[[1]])
# CA
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/CA")
file.list <- list.files(pattern='*.csv')
ca_raw <- list()
for (file in file.list){
ca_raw[file] <- read.csv(file, header = TRUE, sep = ",")
}
ca_raw <- lapply(file.list, function(x) read.csv(file = x, header = TRUE, sep = ","))
ca_raw <- lapply(ca_raw, function(x) melt(x, id="X"))
ca_raw <- lapply(ca_raw, function(x)
xts(
zoo(x = x[,"value"],
order.by = as.yearmon(paste(x[,'X'],
substr(x[,'variable'], start = 2, stop = 4),
sep = "-"))
)
)
)
# CA
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/CA")
file.list <- list.files(pattern='*.csv')
ca_raw <- list()
for (file in file.list){
ca_raw[file] <- read.csv(file, header = TRUE, sep = ",")
}
ca_raw <- lapply(file.list, function(x) read.csv(file = x, header = TRUE, sep = ","))
ca_raw <- lapply(ca_raw, function(x) melt(x, id="X"))
ca_raw <- lapply(ca_raw, function(x)
zoo(x = x[,"value"],
order.by = as.yearmon(paste(x[,'X'],
substr(x[,'variable'], start = 2, stop = 4),
sep = "-"))
)
)
View(ca_raw[[1]])
de_raw <- do.call(merge,lapply(ca_raw,as.xts))
View(ca_raw[[1]])
View(ca_raw[[2]])
View(ca_raw[[3]])
View(ca_raw[[4]])
View(ca_raw[[5]])
View(ca_raw[[6]])
View(ca_raw[[7]])
View(ca_raw[[2]])
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/CA")
file.list <- list.files(pattern='*.csv')
ca_raw <- list()
for (file in file.list){
ca_raw[file] <- read.csv(file, header = TRUE, sep = ",")
}
View(ca_raw[[1]])
View(ca_raw[[2]])
file.list <- list.files(pattern='*.csv')
ca_raw <- list()
for (file in file.list){
ca_raw[file] <- read.csv(file, header = TRUE, sep = ",")
}
file.list <- list.files(pattern='*.csv')
ca_raw <- list()
for (file in file.list){
ca_raw[file] <- read.csv(file, header = TRUE, sep = ",")
}
View(ca_raw[[2]])
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/CA")
file.list <- list.files(pattern='*.csv')
ca_raw <- list()
for (file in file.list){
ca_raw[file] <- read.csv(file, header = TRUE, sep = ",")
}
ca_raw <- lapply(file.list, function(x) read.csv(file = x, header = TRUE, sep = ","))
ca_raw <- lapply(ca_raw, function(x) melt(x, id="X"))
ca_raw <- lapply(ca_raw, function(x)
zoo(x = x[,"value"],
order.by = as.yearmon(paste(x[,'X'],
substr(x[,'variable'], start = 2, stop = 4),
sep = "-"))
)
)
View(ca_raw[[1]])
View(ca_raw[[2]])
View(ca_raw[[3]])
View(ca_raw[[2]])
file.list[[2]]
setwd("C:/Users/Stan/Documents/Repos/Diebold-et-al-2008-Replication/Data/CA")
file.list <- list.files(pattern='*.csv')
ca_raw <- list()
for (file in file.list){
ca_raw[file] <- read.csv(file, header = TRUE, sep = ",")
}
ca_raw <- lapply(file.list, function(x) read.csv(file = x, header = TRUE, sep = ","))
ca_raw <- lapply(ca_raw, function(x) melt(x, id="X"))
ca_raw <- lapply(ca_raw, function(x)
zoo(x = x[,"value"],
order.by = as.yearmon(paste(x[,'X'],
substr(x[,'variable'], start = 2, stop = 4),
sep = "-"))
)
)
View(ca_raw[[1]])
View(ca_raw[[2]])
